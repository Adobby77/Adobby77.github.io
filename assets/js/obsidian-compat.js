function processHighlights(){const e=document.querySelector(".post-content")||document.body;if(!e)return;const t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),i=[];for(;t.nextNode();)i.push(t.currentNode);i.forEach(e=>{if(e.nodeValue&&e.nodeValue.includes("==")){const t=e.parentNode;if("CODE"===t.tagName||"PRE"===t.tagName)return;const i=/==([^=]+)==/g;if(i.test(e.nodeValue)){const a=document.createElement("span");a.innerHTML=e.nodeValue.replace(i,"<mark>$1</mark>"),t.replaceChild(a,e)}}})}function processCallouts(){document.querySelectorAll("blockquote").forEach(e=>{const t=e.querySelector("p");if(!t)return;const i=/<br\s*\/?>|\n/,a=t.innerHTML.split(i),n=a[0],s=document.createElement("div");s.innerHTML=n;const o=s.textContent.trim().match(/^\[!\s*(\w+)\s*\](?:\s+(.*))?$/);if(o){const i=o[1].toLowerCase(),n=o[2]||i.charAt(0).toUpperCase()+i.slice(1);a.shift();const s=a.join("<br>");t.innerHTML=s;const c=document.createElement("div");c.className="obsidian-callout",c.setAttribute("data-type",i);const l=document.createElement("div");l.className="obsidian-callout-title";const d=document.createElement("span");d.className="obsidian-callout-icon",d.innerHTML=getIcon(i),l.appendChild(d),l.appendChild(document.createTextNode(n));const r=document.createElement("div");for(r.className="obsidian-callout-content";e.firstChild;)r.appendChild(e.firstChild);c.appendChild(l),c.appendChild(r),e.parentNode.replaceChild(c,e)}})}function getIcon(e){return{note:'<i class="fa-solid fa-pencil"></i>',info:'<i class="fa-solid fa-circle-info"></i>',todo:'<i class="fa-solid fa-circle-check"></i>',tip:'<i class="fa-solid fa-fire-flame-curved"></i>',success:'<i class="fa-solid fa-check"></i>',question:'<i class="fa-solid fa-circle-question"></i>',warning:'<i class="fa-solid fa-triangle-exclamation"></i>',failure:'<i class="fa-solid fa-xmark"></i>',danger:'<i class="fa-solid fa-radiation"></i>',bug:'<i class="fa-solid fa-bug"></i>',example:'<i class="fa-solid fa-list"></i>',quote:'<i class="fa-solid fa-quote-left"></i>'}[e]||'<i class="fa-solid fa-pencil"></i>'}document.addEventListener("DOMContentLoaded",function(){processHighlights(),processCallouts()});