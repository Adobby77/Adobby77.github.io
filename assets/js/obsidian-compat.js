function processHighlights(){const e=document.querySelector(".post-content")||document.body;if(!e)return;const i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),t=[];for(;i.nextNode();)t.push(i.currentNode);t.forEach(e=>{if(e.nodeValue&&e.nodeValue.includes("==")){const i=e.parentNode;if("CODE"===i.tagName||"PRE"===i.tagName)return;const t=/==([^=]+)==/g;if(t.test(e.nodeValue)){const a=document.createElement("span");a.innerHTML=e.nodeValue.replace(t,"<mark>$1</mark>"),i.replaceChild(a,e)}}})}function processCallouts(){document.querySelectorAll("blockquote").forEach(e=>{const i=e.querySelector("p");if(!i)return;const t=i.textContent.trim().match(/^\[!(\w+)\](?: (.*))?$/);if(t){const a=t[1].toLowerCase(),n=t[2]||a.charAt(0).toUpperCase()+a.slice(1),o=i.innerHTML.split("\n");o[0].includes("[!")&&(o.shift(),i.innerHTML=o.join("\n"));const s=document.createElement("div");s.className="obsidian-callout",s.setAttribute("data-type",a);const c=document.createElement("div");c.className="obsidian-callout-title";const l=document.createElement("span");l.className="obsidian-callout-icon",l.innerHTML=getIcon(a),c.appendChild(l),c.appendChild(document.createTextNode(n));const d=document.createElement("div");for(d.className="obsidian-callout-content";e.firstChild;)d.appendChild(e.firstChild);s.appendChild(c),s.appendChild(d),e.parentNode.replaceChild(s,e)}})}function getIcon(e){return{note:'<i class="fa-solid fa-pencil"></i>',info:'<i class="fa-solid fa-circle-info"></i>',todo:'<i class="fa-solid fa-circle-check"></i>',tip:'<i class="fa-solid fa-fire-flame-curved"></i>',success:'<i class="fa-solid fa-check"></i>',question:'<i class="fa-solid fa-circle-question"></i>',warning:'<i class="fa-solid fa-triangle-exclamation"></i>',failure:'<i class="fa-solid fa-xmark"></i>',danger:'<i class="fa-solid fa-radiation"></i>',bug:'<i class="fa-solid fa-bug"></i>',example:'<i class="fa-solid fa-list"></i>',quote:'<i class="fa-solid fa-quote-left"></i>'}[e]||'<i class="fa-solid fa-pencil"></i>'}document.addEventListener("DOMContentLoaded",function(){processHighlights(),processCallouts()});